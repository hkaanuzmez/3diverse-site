generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("postgresql://postgres:postgres@localhost:5432/postgres")
}

model Product {
  id            String   @id @default(cuid())
  titleTR       String
  titleEN       String
  slug          String   @unique
  descriptionTR String?
  descriptionEN String?
  price         Decimal  @db.Decimal(10,2)
  discountPrice Decimal? @db.Decimal(10,2)
  stock         Int      @default(0)
  published     Boolean  @default(true)
  assets3d      Asset3D[]
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
}

model Asset3D {
  id        String  @id @default(cuid())
  product   Product @relation(fields: [productId], references: [id])
  productId String
  url       String
  format    String
  usdzUrl   String?
  posterUrl String?
}
